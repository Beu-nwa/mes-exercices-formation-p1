
@model Library
@if (ViewBag.Message != null)
{
    <div class="container">
        <div class="row">
            @ViewBag.Message
        </div>
    </div>
}

<div class="container">
    <form class="row m-1" asp-action="SubmitAuthor" asp-controller="Books">
        <div class="col"><input type="text" name="firstname" class="form-control p-1" placeholder="Prénom" /></div>
        <div class="col"><input type="text" name="lastname" class="form-control p-1" placeholder="Nom" /></div>
        <div class="col"><button class="btn btn-primary" type="submit">Ajouter</button></div>
    </form>
</div>

<div class="container">
    <form class="row m-1" asp-action="SubmitCategory" asp-controller="Books">
        <div class="col"><input type="text" name="type" class="form-control p-1" placeholder="Catégorie" /></div>
        <div class="col"><button class="btn btn-primary" type="submit">Ajouter</button></div>
    </form>
</div>

<div class="container">
    <form class="row m-1" asp-action="SubmitBook" asp-controller="Books">
        <div class="col"><input type="text" name="title" class="form-control p-1" placeholder="Titre" /></div>
        <div class="col"><input type="text" name="description" class="form-control p-1" placeholder="Description" /></div>
        <div class="col"><input type="number" name="price" class="form-control p-1" placeholder="Prix" /></div>
        <div class="col"><input type="date" name="releaseDate" class="form-control p-1" placeholder="Date de parution" /></div>
        
        @* ajouter un select qui permet de choisir parmis une liste d'auteur rempli depuis la bdd*@
        <div class="col">
            <select class="form-control p-1" name="authorId">
                @foreach (var author in Model.Authors.ToList())
                {
                    <option value="@author.Id">@author.Firstname @author.Lastname</option>
                }
            </select>
        </div>
        @* ajouter un select qui permet de choisir parmis une liste de catégorie rempli depuis la bdd*@
        <select class="form-control p-1" name="categoryId">
            @foreach (var category in Model.Categories.ToList())
            {
                        <option value="@category.Id">@category.Type</option>
            }
            </select>

        <div class="col"><button class="btn btn-primary" type="submit">Ajouter</button></div>
    </form>
</div>